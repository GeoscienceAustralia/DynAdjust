<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DynAdjust: dynadjust/metadata/metadata.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DynAdjust
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('metadata_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">metadata.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="dnaexception_8hpp_source.html">include/exception/dnaexception.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnaversion_8hpp_source.html">include/config/dnaversion.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnaconsts_8hpp_source.html">include/config/dnaconsts.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnaconsts-interface_8hpp_source.html">include/config/dnaconsts-interface.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnaoptions_8hpp_source.html">include/config/dnaoptions.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnaoptions-interface_8hpp_source.html">include/config/dnaoptions-interface.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnastringfuncs_8hpp_source.html">include/functions/dnastringfuncs.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnaiostreamfuncs_8hpp_source.html">include/functions/dnaiostreamfuncs.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnafilepathfuncs_8hpp_source.html">include/functions/dnafilepathfuncs.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnastrmanipfuncs_8hpp_source.html">include/functions/dnastrmanipfuncs.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dnadatum_8hpp_source.html">include/parameters/dnadatum.hpp</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for metadata.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="metadata_8cpp__incl.png" border="0" usemap="#adynadjust_2metadata_2metadata_8cpp" alt=""/></div>
<map name="adynadjust_2metadata_2metadata_8cpp" id="adynadjust_2metadata_2metadata_8cpp">
<area shape="rect" title=" " alt="" coords="753,5,906,50"/>
<area shape="rect" href="dnaexception_8hpp.html" title=" " alt="" coords="5,452,262,479"/>
<area shape="poly" title=" " alt="" coords="753,34,635,41,497,53,370,72,319,85,281,100,244,122,217,144,199,172,193,212,193,307,189,344,179,380,152,439,147,437,174,379,184,343,188,307,188,211,194,170,213,141,241,118,279,96,317,80,368,67,497,47,635,35,753,29"/>
<area shape="rect" href="dnaversion_8hpp.html" title=" " alt="" coords="976,292,1192,320"/>
<area shape="poly" title=" " alt="" coords="885,48,923,69,959,96,999,141,1032,191,1076,277,1071,279,1028,194,995,144,956,100,921,73,883,53"/>
<area shape="rect" href="dnaconsts_8hpp.html" title=" " alt="" coords="808,452,1019,479"/>
<area shape="poly" title=" " alt="" coords="777,53,747,73,725,99,710,135,706,166,711,197,725,234,739,260,753,280,787,308,825,334,845,351,865,374,903,437,898,439,861,378,841,355,821,338,784,312,749,284,734,263,720,236,706,198,700,166,705,133,721,97,744,69,774,48"/>
<area shape="rect" href="dnaconsts-interface_8hpp.html" title=" " alt="" coords="334,527,517,572"/>
<area shape="poly" title=" " alt="" coords="753,42,620,64,545,81,472,100,405,123,350,150,330,164,314,180,305,195,301,212,301,391,309,429,328,462,354,492,381,516,378,520,350,496,323,465,304,430,296,391,296,211,300,193,310,176,326,160,348,145,403,119,470,95,544,76,619,59,752,36"/>
<area shape="rect" href="dnaoptions_8hpp.html" title=" " alt="" coords="336,376,552,404"/>
<area shape="poly" title=" " alt="" coords="754,51,704,72,656,100,621,131,589,165,532,239,488,309,459,363,454,361,484,306,528,236,585,161,618,127,653,96,701,67,752,46"/>
<area shape="rect" href="dnaoptions-interface_8hpp.html" title=" " alt="" coords="735,98,924,143"/>
<area shape="poly" title=" " alt="" coords="832,50,832,83,827,83,827,50"/>
<area shape="rect" href="dnastringfuncs_8hpp.html" title=" " alt="" coords="735,199,996,227"/>
<area shape="poly" title=" " alt="" coords="885,48,915,69,939,97,945,120,939,144,922,170,900,192,896,188,917,167,934,142,940,120,934,99,912,73,882,53"/>
<area shape="rect" href="dnaiostreamfuncs_8hpp.html" title=" " alt="" coords="1073,106,1354,134"/>
<area shape="poly" title=" " alt="" coords="907,44,1143,100,1142,105,906,50"/>
<area shape="rect" href="dnafilepathfuncs_8hpp.html" title=" " alt="" coords="577,376,850,404"/>
<area shape="poly" title=" " alt="" coords="754,48,713,68,695,82,681,99,666,132,658,167,658,204,662,241,681,309,702,361,697,363,676,310,657,242,652,204,653,167,661,130,677,97,692,78,710,64,752,43"/>
<area shape="rect" href="dnastrmanipfuncs_8hpp.html" title=" " alt="" coords="1450,292,1732,320"/>
<area shape="poly" title=" " alt="" coords="906,27,1024,31,1159,42,1225,51,1284,62,1333,77,1368,96,1385,112,1394,129,1400,164,1405,199,1413,216,1426,233,1446,250,1468,264,1516,284,1514,289,1466,269,1443,254,1422,237,1408,219,1400,201,1395,165,1389,131,1380,115,1365,100,1331,82,1283,68,1224,56,1159,47,1023,36,906,32"/>
<area shape="rect" href="dnadatum_8hpp.html" title=" " alt="" coords="1766,98,1914,143"/>
<area shape="poly" title=" " alt="" coords="907,33,1751,108,1751,114,906,38"/>
<area shape="rect" href="dnatypes_8hpp.html" title=" " alt="" coords="997,620,1201,648"/>
<area shape="poly" title=" " alt="" coords="152,477,224,525,272,550,324,569,378,582,450,593,627,609,817,620,981,627,981,632,816,626,627,615,450,598,377,587,322,575,270,555,222,529,149,482"/>
<area shape="poly" title=" " alt="" coords="916,480,920,524,927,548,941,570,972,595,1008,612,1006,617,969,600,937,574,923,551,915,525,910,480"/>
<area shape="rect" href="dnaconsts-datums_8hpp.html" title=" " alt="" coords="951,527,1124,572"/>
<area shape="poly" title=" " alt="" coords="935,478,993,516,990,521,932,482"/>
<area shape="poly" title=" " alt="" coords="1056,571,1082,606,1078,609,1051,574"/>
<area shape="poly" title=" " alt="" coords="517,560,590,569,982,616,981,622,589,575,517,566"/>
<area shape="poly" title=" " alt="" coords="477,402,661,475,913,569,1042,612,1041,617,911,575,660,480,475,407"/>
<area shape="poly" title=" " alt="" coords="529,402,814,446,814,451,528,407"/>
<area shape="poly" title=" " alt="" coords="898,225,1039,283,1037,288,896,230"/>
<area shape="poly" title=" " alt="" coords="872,226,891,290,909,376,915,436,910,436,904,376,885,291,867,228"/>
<area shape="poly" title=" " alt="" coords="1183,137,1145,159,1127,174,1112,192,1101,212,1094,234,1087,277,1082,276,1089,233,1096,210,1107,189,1123,171,1142,155,1180,132"/>
<area shape="rect" href="dnaversion-stream_8hpp.html" title=" " alt="" coords="1122,191,1310,235"/>
<area shape="poly" title=" " alt="" coords="1217,134,1218,175,1212,175,1211,135"/>
<area shape="rect" href="dnaconsts-iostream_8hpp.html" title=" " alt="" coords="1217,283,1399,328"/>
<area shape="poly" title=" " alt="" coords="1253,132,1293,154,1311,170,1325,189,1332,209,1334,230,1326,269,1321,268,1328,230,1327,210,1320,192,1307,174,1290,159,1250,137"/>
<area shape="poly" title=" " alt="" coords="1186,238,1117,285,1114,280,1183,234"/>
<area shape="poly" title=" " alt="" coords="1240,234,1277,271,1274,274,1236,238"/>
<area shape="poly" title=" " alt="" coords="1251,331,1218,351,1189,378,1173,403,1163,426,1157,470,1154,517,1149,543,1139,573,1119,609,1114,606,1134,571,1144,542,1149,516,1152,469,1158,424,1168,400,1185,374,1214,346,1249,326"/>
<area shape="poly" title=" " alt="" coords="750,402,865,443,863,449,748,407"/>
<area shape="rect" href="dnatemplatecalcfuncs_8hpp.html" title=" " alt="" coords="1199,376,1508,404"/>
<area shape="poly" title=" " alt="" coords="1554,323,1407,373,1405,368,1552,318"/>
<area shape="poly" title=" " alt="" coords="1344,406,1278,480,1182,574,1132,613,1129,609,1178,570,1274,476,1340,402"/>
<area shape="poly" title=" " alt="" coords="1275,407,1008,451,1007,446,1274,402"/>
<area shape="poly" title=" " alt="" coords="1841,144,1835,187,1825,236,1808,284,1790,336,1785,359,1783,389,1783,467,1778,488,1766,508,1746,525,1721,541,1654,568,1572,589,1481,605,1387,617,1217,631,1216,625,1386,612,1480,600,1571,584,1652,563,1718,536,1743,521,1762,504,1774,486,1778,467,1778,388,1780,358,1785,334,1803,282,1820,235,1830,186,1835,143"/>
<area shape="poly" title=" " alt="" coords="1839,144,1823,190,1810,216,1791,237,1768,255,1743,270,1689,290,1688,285,1741,265,1765,251,1788,233,1805,213,1818,188,1833,142"/>
<area shape="rect" href="dnatemplatedatetimefuncs_8hpp.html" title=" " alt="" coords="1436,199,1778,227"/>
<area shape="poly" title=" " alt="" coords="1785,146,1656,196,1654,191,1783,141"/>
<area shape="rect" href="dnadatumprojectionparam_8hpp.html" title=" " alt="" coords="1818,283,2044,328"/>
<area shape="poly" title=" " alt="" coords="1857,141,1887,189,1921,268,1916,270,1882,192,1853,144"/>
<area shape="rect" href="dnaellipsoid_8hpp.html" title=" " alt="" coords="1953,191,2100,235"/>
<area shape="poly" title=" " alt="" coords="1886,141,1970,181,1968,186,1884,146"/>
<area shape="poly" title=" " alt="" coords="1607,228,1598,277,1593,276,1602,227"/>
<area shape="poly" title=" " alt="" coords="1930,329,1918,381,1894,449,1877,484,1856,518,1831,549,1800,574,1769,586,1715,596,1560,612,1380,624,1217,631,1216,626,1380,619,1560,607,1714,591,1767,581,1797,570,1827,545,1852,515,1873,481,1889,447,1913,379,1925,328"/>
<area shape="poly" title=" " alt="" coords="2041,235,2068,302,2080,344,2084,388,2084,467,2078,505,2062,531,2036,546,2004,555,1926,563,1883,567,1841,575,1720,594,1553,610,1217,630,1217,625,1552,605,1719,589,1840,569,1883,561,1925,557,2003,550,2034,542,2058,527,2073,503,2079,467,2079,389,2074,345,2063,303,2036,237"/>
<area shape="poly" title=" " alt="" coords="2006,238,1966,275,1963,271,2002,234"/>
</map>
</div>
</div>
<p><a href="metadata_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a95fd51448fcd53e2e8d88eca58215b6f" id="r_a95fd51448fcd53e2e8d88eca58215b6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95fd51448fcd53e2e8d88eca58215b6f">processGNSSMeasurement</a> (std::string &amp;dnaMeasurementGNSS, std::string &amp;referenceFrame, std::string &amp;epoch, size_t &amp;lineNo, size_t &amp;measurementUpdateCount)</td></tr>
<tr class="separator:a95fd51448fcd53e2e8d88eca58215b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae1de01d8323a0943b557512633f87b" id="r_aeae1de01d8323a0943b557512633f87b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeae1de01d8323a0943b557512633f87b">GetDefaultReferenceFrameEpoch</a> (std::string &amp;sBuf, std::string &amp;referenceFrame, std::string &amp;epoch)</td></tr>
<tr class="separator:aeae1de01d8323a0943b557512633f87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3846659b35229f2e30d5c18131eef60" id="r_ab3846659b35229f2e30d5c18131eef60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3846659b35229f2e30d5c18131eef60">processFile</a> (std::ifstream *ifsFile, std::ofstream *ofsFile, std::string &amp;defaultFrame, std::string &amp;defaultEpoch, size_t &amp;measurementUpdateCount, size_t &amp;unsureFrameCount, size_t &amp;unsureEpochCount)</td></tr>
<tr class="separator:ab3846659b35229f2e30d5c18131eef60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97" id="r_a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8246db01e9a8332d1288a4cbe94ea449" id="r_a8246db01e9a8332d1288a4cbe94ea449"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8246db01e9a8332d1288a4cbe94ea449">cout_mutex</a></td></tr>
<tr class="separator:a8246db01e9a8332d1288a4cbe94ea449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6f2be58f584e0d6036e3215832bd25" id="r_a4e6f2be58f584e0d6036e3215832bd25"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e6f2be58f584e0d6036e3215832bd25">import_file_mutex</a></td></tr>
<tr class="separator:a4e6f2be58f584e0d6036e3215832bd25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a95fd51448fcd53e2e8d88eca58215b6f" name="a95fd51448fcd53e2e8d88eca58215b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95fd51448fcd53e2e8d88eca58215b6f">&#9670;&#160;</a></span>processGNSSMeasurement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processGNSSMeasurement </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>dnaMeasurementGNSS</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>referenceFrame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>epoch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>lineNo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>measurementUpdateCount</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="metadata_8cpp_source.html#l00047">47</a> of file <a class="el" href="metadata_8cpp_source.html">metadata.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>{</div>
<div class="line"><span class="lineno">   49</span>    std::string tmp(dnaMeasurementGNSS);</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>    <span class="comment">// Validate reference frame and epoch.  Throws on error</span></div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_class" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html">CDnaDatum</a> datum;</div>
<div class="line"><span class="lineno">   53</span>    datum.<a class="code hl_function" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#ac98bb12b484694dab89cf54872010609">SetDatumFromName</a>(referenceFrame, epoch);</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>    std::string FirstTag = <span class="stringliteral">&quot;&lt;First&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   56</span>    std::string referenceframeTagOpen = <span class="stringliteral">&quot;&lt;ReferenceFrame&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   57</span>    std::string referenceframeTagClose = <span class="stringliteral">&quot;&lt;/ReferenceFrame&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   58</span>    std::string epochTagOpen = <span class="stringliteral">&quot;&lt;Epoch&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   59</span>    std::string epochTagClose = <span class="stringliteral">&quot;&lt;/Epoch&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   60</span>    </div>
<div class="line"><span class="lineno">   61</span>    std::string referenceFrameElement, epochElement;</div>
<div class="line"><span class="lineno">   62</span>    referenceFrameElement = referenceframeTagOpen + referenceFrame + referenceframeTagClose + <span class="stringliteral">&quot;\n        &quot;</span>;</div>
<div class="line"><span class="lineno">   63</span>    epochElement = epochTagOpen + epoch + epochTagClose + <span class="stringliteral">&quot;\n        &quot;</span>;</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordtype">size_t</span> pos;</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordtype">bool</span> updated(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   68</span></div>
<div class="line"><span class="lineno">   70</span>    <span class="comment">// Look for the existence of &lt;ReferenceFrame&gt; in data</span></div>
<div class="line"><span class="lineno">   71</span>    <span class="comment">// If none, add new &lt;ReferenceFrame&gt;</span></div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">if</span> ((pos = tmp.find(referenceframeTagOpen)) == std::string::npos)</div>
<div class="line"><span class="lineno">   73</span>    {</div>
<div class="line"><span class="lineno">   74</span>        <span class="comment">// Okay, no reference frame tag.  Add it before &lt;First&gt;</span></div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">if</span> ((pos = tmp.find(FirstTag)) == std::string::npos)</div>
<div class="line"><span class="lineno">   76</span>        {</div>
<div class="line"><span class="lineno">   77</span>            std::stringstream ss;</div>
<div class="line"><span class="lineno">   78</span>            ss &lt;&lt; <span class="stringliteral">&quot;processGNSSMeasurement(): Could not find &lt;First&gt; element in:&quot;</span> &lt;&lt; std::endl &lt;&lt; </div>
<div class="line"><span class="lineno">   79</span>                dnaMeasurementGNSS &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   80</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="classdynadjust_1_1exception_1_1XMLInteropException.html">XMLInteropException</a>(ss.str(), (<span class="keywordtype">int</span>)lineNo);</div>
<div class="line"><span class="lineno">   81</span>        }</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>        tmp.insert(pos, referenceFrameElement);</div>
<div class="line"><span class="lineno">   84</span>        updated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   85</span>    }</div>
<div class="line"><span class="lineno">   86</span></div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">// Look for the existence of &lt;Epoch&gt; in data</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">// If none, add new &lt;ReferenceFrame&gt;</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">if</span> ((pos = tmp.find(epochTagOpen)) == std::string::npos)</div>
<div class="line"><span class="lineno">   91</span>    {</div>
<div class="line"><span class="lineno">   92</span>        <span class="comment">// Okay, no reference frame tag.  Add it before &lt;First&gt;</span></div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">if</span> ((pos = tmp.find(FirstTag)) == std::string::npos)</div>
<div class="line"><span class="lineno">   94</span>        {</div>
<div class="line"><span class="lineno">   95</span>            std::stringstream ss;</div>
<div class="line"><span class="lineno">   96</span>            ss &lt;&lt; <span class="stringliteral">&quot;processGNSSMeasurement(): Could not find &lt;First&gt; element in:&quot;</span> &lt;&lt; std::endl &lt;&lt; </div>
<div class="line"><span class="lineno">   97</span>                dnaMeasurementGNSS &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   98</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="classdynadjust_1_1exception_1_1XMLInteropException.html">XMLInteropException</a>(ss.str(), (<span class="keywordtype">int</span>)lineNo);</div>
<div class="line"><span class="lineno">   99</span>        }</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>        tmp.insert(pos, epochElement);</div>
<div class="line"><span class="lineno">  102</span>        updated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  103</span>    }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>    dnaMeasurementGNSS = tmp;</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (updated)</div>
<div class="line"><span class="lineno">  107</span>        measurementUpdateCount++;</div>
<div class="line"><span class="lineno">  108</span>}</div>
<div class="ttc" id="aclassdynadjust_1_1datum__parameters_1_1CDnaDatum_html"><div class="ttname"><a href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html">dynadjust::datum_parameters::CDnaDatum</a></div><div class="ttdef"><b>Definition</b> <a href="dnadatum_8hpp_source.html#l00050">dnadatum.hpp:51</a></div></div>
<div class="ttc" id="aclassdynadjust_1_1datum__parameters_1_1CDnaDatum_html_ac98bb12b484694dab89cf54872010609"><div class="ttname"><a href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#ac98bb12b484694dab89cf54872010609">dynadjust::datum_parameters::CDnaDatum::SetDatumFromName</a></div><div class="ttdeci">void SetDatumFromName(const std::string &amp;datumName, const std::string &amp;epoch)</div><div class="ttdef"><b>Definition</b> <a href="dnadatum_8cpp_source.html#l00192">dnadatum.cpp:192</a></div></div>
<div class="ttc" id="aclassdynadjust_1_1exception_1_1XMLInteropException_html"><div class="ttname"><a href="classdynadjust_1_1exception_1_1XMLInteropException.html">dynadjust::exception::XMLInteropException</a></div><div class="ttdef"><b>Definition</b> <a href="dnaexception_8hpp_source.html#l00083">dnaexception.hpp:84</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dnadatum_8cpp_source.html#l00192">dynadjust::datum_parameters::CDnaDatum::SetDatumFromName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="metadata_8cpp_source.html#l00150">processFile()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="metadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_cgraph.png" border="0" usemap="#ametadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_cgraph" alt=""/></div>
<map name="ametadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_cgraph" id="ametadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_cgraph">
<area shape="rect" title=" " alt="" coords="5,91,203,119"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#ac98bb12b484694dab89cf54872010609" title=" " alt="" coords="251,83,504,127"/>
<area shape="poly" title=" " alt="" coords="203,102,235,102,235,108,203,108"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a41afaa86d74dc2b3ddb59220c19a2b71" title=" " alt="" coords="578,5,775,50"/>
<area shape="poly" title=" " alt="" coords="466,79,572,52,574,57,468,85"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#a79baa8d3483187185fd064510f5715d8" title=" " alt="" coords="552,74,801,136"/>
<area shape="poly" title=" " alt="" coords="504,102,537,102,537,108,504,108"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#a25b1a92e488c7ece5cde12ba08e9a0ab" title=" " alt="" coords="568,160,785,205"/>
<area shape="poly" title=" " alt="" coords="468,125,574,153,572,158,466,131"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a4129dd8ac67056dea61f666182deed2f" title=" " alt="" coords="855,48,1062,93"/>
<area shape="poly" title=" " alt="" coords="801,87,839,82,840,88,802,92"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a6c5a9959eb32574ab2ad37a360bc011d" title=" " alt="" coords="849,117,1068,162"/>
<area shape="poly" title=" " alt="" coords="802,118,834,122,834,127,801,123"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="metadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_icgraph.png" border="0" usemap="#ametadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_icgraph" alt=""/></div>
<map name="ametadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_icgraph" id="ametadata_8cpp_a95fd51448fcd53e2e8d88eca58215b6f_icgraph">
<area shape="rect" title=" " alt="" coords="249,5,446,33"/>
<area shape="rect" href="metadata_8cpp.html#ab3846659b35229f2e30d5c18131eef60" title=" " alt="" coords="108,5,201,33"/>
<area shape="poly" title=" " alt="" coords="234,22,202,22,202,16,234,16"/>
<area shape="rect" href="metadata_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,60,33"/>
<area shape="poly" title=" " alt="" coords="92,22,60,22,60,16,92,16"/>
</map>
</div>

</div>
</div>
<a id="aeae1de01d8323a0943b557512633f87b" name="aeae1de01d8323a0943b557512633f87b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae1de01d8323a0943b557512633f87b">&#9670;&#160;</a></span>GetDefaultReferenceFrameEpoch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetDefaultReferenceFrameEpoch </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>sBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>referenceFrame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>epoch</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="metadata_8cpp_source.html#l00110">110</a> of file <a class="el" href="metadata_8cpp_source.html">metadata.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordtype">size_t</span> pos;</div>
<div class="line"><span class="lineno">  113</span>    std::string referenceFrameAttribute = <span class="stringliteral">&quot;referenceframe&quot;</span>;</div>
<div class="line"><span class="lineno">  114</span>    std::string epochAttribute = <span class="stringliteral">&quot;epoch&quot;</span>;</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    std::string tmp;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">if</span> ((pos = sBuf.find(referenceFrameAttribute)) != std::string::npos)</div>
<div class="line"><span class="lineno">  119</span>    {</div>
<div class="line"><span class="lineno">  120</span>        <span class="comment">// Okay, get the reference frame</span></div>
<div class="line"><span class="lineno">  121</span>        <span class="comment">// Advance to =</span></div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">while</span> (sBuf.at(pos) != <span class="charliteral">&#39;\&quot;&#39;</span>)</div>
<div class="line"><span class="lineno">  123</span>            pos++;</div>
<div class="line"><span class="lineno">  124</span>        pos++;</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        tmp = sBuf.substr(pos);</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">if</span> ((pos = tmp.find(<span class="stringliteral">&quot;\&quot;&quot;</span>)) != std::string::npos)</div>
<div class="line"><span class="lineno">  128</span>            tmp = tmp.substr(0, pos);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>        referenceFrame = tmp;</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> ((pos = sBuf.find(epochAttribute)) != std::string::npos)</div>
<div class="line"><span class="lineno">  134</span>    {</div>
<div class="line"><span class="lineno">  135</span>        <span class="comment">// Okay, get the epoch</span></div>
<div class="line"><span class="lineno">  136</span>        <span class="comment">// Advance to =</span></div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">while</span> (sBuf.at(pos) != <span class="charliteral">&#39;\&quot;&#39;</span>)</div>
<div class="line"><span class="lineno">  138</span>            pos++;</div>
<div class="line"><span class="lineno">  139</span>        pos++;</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>        tmp = sBuf.substr(pos);</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">if</span> ((pos = tmp.find(<span class="stringliteral">&quot;\&quot;&quot;</span>)) != std::string::npos)</div>
<div class="line"><span class="lineno">  143</span>            tmp = tmp.substr(0, pos);</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>        epoch = tmp;</div>
<div class="line"><span class="lineno">  146</span>    }</div>
<div class="line"><span class="lineno">  147</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="metadata_8cpp_source.html#l00150">processFile()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="metadata_8cpp_aeae1de01d8323a0943b557512633f87b_icgraph.png" border="0" usemap="#ametadata_8cpp_aeae1de01d8323a0943b557512633f87b_icgraph" alt=""/></div>
<map name="ametadata_8cpp_aeae1de01d8323a0943b557512633f87b_icgraph" id="ametadata_8cpp_aeae1de01d8323a0943b557512633f87b_icgraph">
<area shape="rect" title=" " alt="" coords="249,5,448,50"/>
<area shape="rect" href="metadata_8cpp.html#ab3846659b35229f2e30d5c18131eef60" title=" " alt="" coords="108,14,201,42"/>
<area shape="poly" title=" " alt="" coords="234,30,201,30,201,25,234,25"/>
<area shape="rect" href="metadata_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,14,60,42"/>
<area shape="poly" title=" " alt="" coords="92,30,60,30,60,25,92,25"/>
</map>
</div>

</div>
</div>
<a id="ab3846659b35229f2e30d5c18131eef60" name="ab3846659b35229f2e30d5c18131eef60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3846659b35229f2e30d5c18131eef60">&#9670;&#160;</a></span>processFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processFile </td>
          <td>(</td>
          <td class="paramtype">std::ifstream *</td>          <td class="paramname"><span class="paramname"><em>ifsFile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ofstream *</td>          <td class="paramname"><span class="paramname"><em>ofsFile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>defaultFrame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>defaultEpoch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>measurementUpdateCount</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>unsureFrameCount</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>unsureEpochCount</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="metadata_8cpp_source.html#l00150">150</a> of file <a class="el" href="metadata_8cpp_source.html">metadata.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  152</span>{</div>
<div class="line"><span class="lineno">  153</span>    std::string sBuf, tmp;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    std::string referenceFrame(<a class="code hl_variable" href="dnaconsts-datums_8hpp.html#a90e49663e4e82cced9d8c0a54743fda8">GDA94_s</a>);</div>
<div class="line"><span class="lineno">  156</span>    std::string epoch(<span class="stringliteral">&quot;01.01.1994&quot;</span>);</div>
<div class="line"><span class="lineno">  157</span>    </div>
<div class="line"><span class="lineno">  158</span>    std::string openingDnaMeasurementTag = <span class="stringliteral">&quot;&lt;DnaMeasurement&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  159</span>    std::string closingDnaMeasurementTag = <span class="stringliteral">&quot;&lt;/DnaMeasurement&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    std::string dnaxmlFormatTag = <span class="stringliteral">&quot;&lt;DnaXmlFormat&quot;</span>;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    std::string gType = <span class="stringliteral">&quot;&lt;Type&gt;G&lt;/Type&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  164</span>    std::string xType = <span class="stringliteral">&quot;&lt;Type&gt;X&lt;/Type&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  165</span>    std::string yType = <span class="stringliteral">&quot;&lt;Type&gt;Y&lt;/Type&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keyword">const</span> std::string xmlComment = <span class="stringliteral">&quot;&lt;!--&quot;</span>;</div>
<div class="line"><span class="lineno">  168</span>    <span class="comment">// &lt;!--[BASELINE REFFRAME] ITRF2005--&gt;</span></div>
<div class="line"><span class="lineno">  169</span>    <span class="keyword">const</span> std::string metadataReferenceFrame = <span class="stringliteral">&quot;[BASELINE REFFRAME]&quot;</span>;</div>
<div class="line"><span class="lineno">  170</span>    <span class="comment">// &lt;!--[BASELINE EPOCH] 19.08.2010--&gt;</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="keyword">const</span> std::string metadataEpoch = <span class="stringliteral">&quot;[BASELINE EPOCH]&quot;</span>;</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    std::stringstream dnameasurementStream;</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordtype">bool</span> newMeasurement(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    dnameasurementStream.str(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordtype">size_t</span> lineNo = 0;</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordtype">size_t</span> pos;</div>
<div class="line"><span class="lineno">  180</span>    </div>
<div class="line"><span class="lineno">  181</span>    <a class="code hl_class" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html">CDnaDatum</a> datum;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">while</span> (ifsFile)</div>
<div class="line"><span class="lineno">  184</span>    {</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">if</span> (ifsFile-&gt;eof())</div>
<div class="line"><span class="lineno">  186</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>        lineNo++;</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  191</span>            getline((*ifsFile), sBuf);          </div>
<div class="line"><span class="lineno">  192</span>        }</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  194</span>            <span class="keywordflow">if</span> (ifsFile-&gt;eof())</div>
<div class="line"><span class="lineno">  195</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  196</span>            </div>
<div class="line"><span class="lineno">  197</span>            std::stringstream ss;</div>
<div class="line"><span class="lineno">  198</span>            ss &lt;&lt; <span class="stringliteral">&quot;processFile(): Could not read from the station file.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="classdynadjust_1_1exception_1_1XMLInteropException.html">XMLInteropException</a>(ss.str(), (<span class="keywordtype">int</span>)lineNo);</div>
<div class="line"><span class="lineno">  200</span>        }</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        <span class="comment">// Reached a DnaMeasurement opening tag?  </span></div>
<div class="line"><span class="lineno">  203</span>        </div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">if</span> (sBuf.find(dnaxmlFormatTag) != std::string::npos)</div>
<div class="line"><span class="lineno">  205</span>        {</div>
<div class="line"><span class="lineno">  206</span>            <span class="comment">// Get the default reference frame and epoch</span></div>
<div class="line"><span class="lineno">  207</span>            <a class="code hl_function" href="#aeae1de01d8323a0943b557512633f87b">GetDefaultReferenceFrameEpoch</a>(sBuf, referenceFrame, epoch);</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>            <span class="comment">// Validate reference frame and epoch.  Throws on error</span></div>
<div class="line"><span class="lineno">  210</span>            datum.<a class="code hl_function" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#ac98bb12b484694dab89cf54872010609">SetDatumFromName</a>(referenceFrame, epoch);</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>            <span class="comment">// Set defaults</span></div>
<div class="line"><span class="lineno">  213</span>            defaultFrame = referenceFrame;</div>
<div class="line"><span class="lineno">  214</span>            defaultEpoch = epoch;</div>
<div class="line"><span class="lineno">  215</span>        }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        <span class="comment">// Reached a DnaMeasurement opening tag?</span></div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">if</span> (sBuf.find(openingDnaMeasurementTag) != std::string::npos)</div>
<div class="line"><span class="lineno">  219</span>        {   </div>
<div class="line"><span class="lineno">  220</span>            <span class="comment">// yes, found an opening tag!</span></div>
<div class="line"><span class="lineno">  221</span>            newMeasurement = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>            <span class="comment">// Reset the stream</span></div>
<div class="line"><span class="lineno">  224</span>            dnameasurementStream.str(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>            <span class="comment">// Add this string to the stringstream (for subsequent processing)</span></div>
<div class="line"><span class="lineno">  227</span>            dnameasurementStream &lt;&lt; sBuf &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  228</span>        </div>
<div class="line"><span class="lineno">  229</span>        }</div>
<div class="line"><span class="lineno">  230</span>        <span class="comment">// Reached a DnaMeasurement closing tag?</span></div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sBuf.find(closingDnaMeasurementTag) != std::string::npos)</div>
<div class="line"><span class="lineno">  232</span>        {   </div>
<div class="line"><span class="lineno">  233</span>            <span class="comment">// yes, found a closing tag!</span></div>
<div class="line"><span class="lineno">  234</span>            dnameasurementStream &lt;&lt; sBuf &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>            <span class="comment">// capture the measurement</span></div>
<div class="line"><span class="lineno">  237</span>            std::string dnaMeasurementGNSS = dnameasurementStream.str();</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>            <span class="comment">// Is this a GNSS measurement?  if not, dump and continue</span></div>
<div class="line"><span class="lineno">  240</span>            <span class="keywordflow">if</span> (dnaMeasurementGNSS.find(gType) != std::string::npos)</div>
<div class="line"><span class="lineno">  241</span>            {</div>
<div class="line"><span class="lineno">  242</span>                <span class="comment">// Process GNSS measurement</span></div>
<div class="line"><span class="lineno">  243</span>                <a class="code hl_function" href="#a95fd51448fcd53e2e8d88eca58215b6f">processGNSSMeasurement</a>(dnaMeasurementGNSS, referenceFrame, epoch, lineNo, measurementUpdateCount);</div>
<div class="line"><span class="lineno">  244</span>            }</div>
<div class="line"><span class="lineno">  245</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dnaMeasurementGNSS.find(xType) != std::string::npos)</div>
<div class="line"><span class="lineno">  246</span>            {</div>
<div class="line"><span class="lineno">  247</span>                <span class="comment">// Process GNSS measurement</span></div>
<div class="line"><span class="lineno">  248</span>                <a class="code hl_function" href="#a95fd51448fcd53e2e8d88eca58215b6f">processGNSSMeasurement</a>(dnaMeasurementGNSS, referenceFrame, epoch, lineNo, measurementUpdateCount);</div>
<div class="line"><span class="lineno">  249</span>            }</div>
<div class="line"><span class="lineno">  250</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dnaMeasurementGNSS.find(yType) != std::string::npos)</div>
<div class="line"><span class="lineno">  251</span>            {</div>
<div class="line"><span class="lineno">  252</span>                <span class="comment">// Process GNSS measurement</span></div>
<div class="line"><span class="lineno">  253</span>                <a class="code hl_function" href="#a95fd51448fcd53e2e8d88eca58215b6f">processGNSSMeasurement</a>(dnaMeasurementGNSS, referenceFrame, epoch, lineNo, measurementUpdateCount);</div>
<div class="line"><span class="lineno">  254</span>            }</div>
<div class="line"><span class="lineno">  255</span>            </div>
<div class="line"><span class="lineno">  256</span>            <span class="comment">// Write dnaMeasurementGNSS to output file</span></div>
<div class="line"><span class="lineno">  257</span>            (*ofsFile) &lt;&lt; dnaMeasurementGNSS;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>            newMeasurement = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  260</span>        }</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  262</span>        {</div>
<div class="line"><span class="lineno">  263</span>            <span class="comment">// At this point, the line is one of the following:</span></div>
<div class="line"><span class="lineno">  264</span>            <span class="comment">// - A line before the first measurement (in which case, newMeasurement is false)</span></div>
<div class="line"><span class="lineno">  265</span>            <span class="comment">// - An XML element within DnaMeasurement (in which case, newMeasurement is true)</span></div>
<div class="line"><span class="lineno">  266</span>            <span class="comment">// - A comment within DnaMeasurement (in which case, newMeasurement is true)</span></div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>            <span class="comment">// Is this line within a DnaMeasurement</span></div>
<div class="line"><span class="lineno">  269</span>            <span class="keywordflow">if</span> (newMeasurement)</div>
<div class="line"><span class="lineno">  270</span>            {</div>
<div class="line"><span class="lineno">  271</span>                <span class="comment">// Yes, add this string to the stringstream (for subsequent processing)</span></div>
<div class="line"><span class="lineno">  272</span>                dnameasurementStream &lt;&lt; sBuf &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  273</span>            }</div>
<div class="line"><span class="lineno">  274</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  275</span>            {</div>
<div class="line"><span class="lineno">  276</span>                <span class="comment">// A new measurement hasn&#39;t been reached yet, so this line is either:</span></div>
<div class="line"><span class="lineno">  277</span>                <span class="comment">// - Before the first DnaMeasurement</span></div>
<div class="line"><span class="lineno">  278</span>                <span class="comment">// - A comment preceding a DnaMeasurement</span></div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>                <span class="comment">// Dump the line to output file</span></div>
<div class="line"><span class="lineno">  281</span>                (*ofsFile) &lt;&lt; sBuf &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  282</span>            }           </div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>            <span class="comment">// Now check for Reference frame and epoch comments</span></div>
<div class="line"><span class="lineno">  285</span>            tmp = <a class="code hl_function" href="dnastrmanipfuncs_8hpp.html#a5be156dfa9974303aebe8d2332a9d8dd">trimstr</a>(sBuf);</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>            <span class="comment">// Is this line a comment?</span></div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> (tmp.find(xmlComment) == std::string::npos)</div>
<div class="line"><span class="lineno">  289</span>            {</div>
<div class="line"><span class="lineno">  290</span>                <span class="comment">// No, this is a measurement element.</span></div>
<div class="line"><span class="lineno">  291</span>                </div>
<div class="line"><span class="lineno">  292</span>                <span class="comment">// Check for an existing ReferenceFrame tag</span></div>
<div class="line"><span class="lineno">  293</span>            }</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  295</span>            {</div>
<div class="line"><span class="lineno">  296</span>                <span class="comment">// At this point, tmp is a comment.</span></div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>                <span class="comment">// Is this line a reference frame metadata tag in the comment?</span></div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">if</span> (tmp.find(metadataReferenceFrame) != std::string::npos)</div>
<div class="line"><span class="lineno">  300</span>                {</div>
<div class="line"><span class="lineno">  301</span>                    <span class="keywordflow">if</span> ((pos = tmp.find(<span class="stringliteral">&quot;]&quot;</span>, 0)) != std::string::npos)</div>
<div class="line"><span class="lineno">  302</span>                    {</div>
<div class="line"><span class="lineno">  303</span>                        referenceFrame = tmp.substr(pos+1);</div>
<div class="line"><span class="lineno">  304</span>                        <span class="keywordflow">if</span> ((pos = referenceFrame.find(<span class="stringliteral">&quot;--&gt;&quot;</span>, 0)) != std::string::npos)</div>
<div class="line"><span class="lineno">  305</span>                            referenceFrame = <a class="code hl_function" href="dnastrmanipfuncs_8hpp.html#a5be156dfa9974303aebe8d2332a9d8dd">trimstr</a>(referenceFrame.substr(0, pos));</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>                        <span class="keywordflow">if</span> (boost::iequals(referenceFrame, <span class="stringliteral">&quot;unsure&quot;</span>))</div>
<div class="line"><span class="lineno">  308</span>                        {</div>
<div class="line"><span class="lineno">  309</span>                            referenceFrame = defaultFrame;</div>
<div class="line"><span class="lineno">  310</span>                            unsureFrameCount++;</div>
<div class="line"><span class="lineno">  311</span>                        }</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>                        <span class="keywordflow">if</span> (boost::iequals(referenceFrame, <span class="stringliteral">&quot;WGS84&quot;</span>))</div>
<div class="line"><span class="lineno">  314</span>                        {</div>
<div class="line"><span class="lineno">  315</span>                            referenceFrame = <span class="stringliteral">&quot;ITRF1989&quot;</span>;</div>
<div class="line"><span class="lineno">  316</span>                        }</div>
<div class="line"><span class="lineno">  317</span>                    }</div>
<div class="line"><span class="lineno">  318</span>                }</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>                <span class="comment">// Is this line a epoch metadata tag in the comment?</span></div>
<div class="line"><span class="lineno">  321</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp.find(metadataEpoch) != std::string::npos)</div>
<div class="line"><span class="lineno">  322</span>                {</div>
<div class="line"><span class="lineno">  323</span>                    <span class="keywordflow">if</span> ((pos = tmp.find(<span class="stringliteral">&quot;]&quot;</span>, 0)) != std::string::npos)</div>
<div class="line"><span class="lineno">  324</span>                    {</div>
<div class="line"><span class="lineno">  325</span>                        epoch = tmp.substr(pos+1);</div>
<div class="line"><span class="lineno">  326</span>                        <span class="keywordflow">if</span> ((pos = epoch.find(<span class="stringliteral">&quot;--&gt;&quot;</span>, 0)) != std::string::npos)</div>
<div class="line"><span class="lineno">  327</span>                            epoch = <a class="code hl_function" href="dnastrmanipfuncs_8hpp.html#a5be156dfa9974303aebe8d2332a9d8dd">trimstr</a>(epoch.substr(0, pos));</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>                        <span class="keywordflow">if</span> (boost::iequals(epoch, <span class="stringliteral">&quot;unsure&quot;</span>))</div>
<div class="line"><span class="lineno">  330</span>                        {</div>
<div class="line"><span class="lineno">  331</span>                            epoch = <span class="stringliteral">&quot;01.01.2005&quot;</span>;</div>
<div class="line"><span class="lineno">  332</span>                            unsureEpochCount++;</div>
<div class="line"><span class="lineno">  333</span>                        }</div>
<div class="line"><span class="lineno">  334</span>                    }</div>
<div class="line"><span class="lineno">  335</span>                }</div>
<div class="line"><span class="lineno">  336</span>            }</div>
<div class="line"><span class="lineno">  337</span>        }       </div>
<div class="line"><span class="lineno">  338</span>    }</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>}</div>
<div class="ttc" id="adnaconsts-datums_8hpp_html_a90e49663e4e82cced9d8c0a54743fda8"><div class="ttname"><a href="dnaconsts-datums_8hpp.html#a90e49663e4e82cced9d8c0a54743fda8">GDA94_s</a></div><div class="ttdeci">const char *const GDA94_s</div><div class="ttdef"><b>Definition</b> <a href="dnaconsts-datums_8hpp_source.html#l00161">dnaconsts-datums.hpp:161</a></div></div>
<div class="ttc" id="adnastrmanipfuncs_8hpp_html_a5be156dfa9974303aebe8d2332a9d8dd"><div class="ttname"><a href="dnastrmanipfuncs_8hpp.html#a5be156dfa9974303aebe8d2332a9d8dd">trimstr</a></div><div class="ttdeci">T trimstr(T &amp;Src)</div><div class="ttdef"><b>Definition</b> <a href="dnastrmanipfuncs_8hpp_source.html#l00175">dnastrmanipfuncs.hpp:175</a></div></div>
<div class="ttc" id="ametadata_8cpp_html_a95fd51448fcd53e2e8d88eca58215b6f"><div class="ttname"><a href="#a95fd51448fcd53e2e8d88eca58215b6f">processGNSSMeasurement</a></div><div class="ttdeci">void processGNSSMeasurement(std::string &amp;dnaMeasurementGNSS, std::string &amp;referenceFrame, std::string &amp;epoch, size_t &amp;lineNo, size_t &amp;measurementUpdateCount)</div><div class="ttdef"><b>Definition</b> <a href="metadata_8cpp_source.html#l00047">metadata.cpp:47</a></div></div>
<div class="ttc" id="ametadata_8cpp_html_aeae1de01d8323a0943b557512633f87b"><div class="ttname"><a href="#aeae1de01d8323a0943b557512633f87b">GetDefaultReferenceFrameEpoch</a></div><div class="ttdeci">void GetDefaultReferenceFrameEpoch(std::string &amp;sBuf, std::string &amp;referenceFrame, std::string &amp;epoch)</div><div class="ttdef"><b>Definition</b> <a href="metadata_8cpp_source.html#l00110">metadata.cpp:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dnaconsts-datums_8hpp_source.html#l00161">GDA94_s</a>, <a class="el" href="metadata_8cpp_source.html#l00110">GetDefaultReferenceFrameEpoch()</a>, <a class="el" href="metadata_8cpp_source.html#l00047">processGNSSMeasurement()</a>, <a class="el" href="dnadatum_8cpp_source.html#l00192">dynadjust::datum_parameters::CDnaDatum::SetDatumFromName()</a>, and <a class="el" href="dnastrmanipfuncs_8hpp_source.html#l00175">trimstr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="metadata_8cpp_source.html#l00342">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="metadata_8cpp_ab3846659b35229f2e30d5c18131eef60_cgraph.png" border="0" usemap="#ametadata_8cpp_ab3846659b35229f2e30d5c18131eef60_cgraph" alt=""/></div>
<map name="ametadata_8cpp_ab3846659b35229f2e30d5c18131eef60_cgraph" id="ametadata_8cpp_ab3846659b35229f2e30d5c18131eef60_cgraph">
<area shape="rect" title=" " alt="" coords="5,99,99,127"/>
<area shape="rect" href="metadata_8cpp.html#aeae1de01d8323a0943b557512633f87b" title=" " alt="" coords="147,5,346,50"/>
<area shape="poly" title=" " alt="" coords="76,96,146,60,160,54,162,59,148,65,79,101"/>
<area shape="rect" href="metadata_8cpp.html#a95fd51448fcd53e2e8d88eca58215b6f" title=" " alt="" coords="148,74,345,102"/>
<area shape="poly" title=" " alt="" coords="99,104,132,100,132,105,100,110"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#ac98bb12b484694dab89cf54872010609" title=" " alt="" coords="394,87,647,131"/>
<area shape="poly" title=" " alt="" coords="99,111,346,110,378,110,378,115,346,116,99,116"/>
<area shape="rect" href="dnastrmanipfuncs_8hpp.html#a5be156dfa9974303aebe8d2332a9d8dd" title=" " alt="" coords="214,175,279,203"/>
<area shape="poly" title=" " alt="" coords="83,125,148,155,200,173,198,178,146,159,80,130"/>
<area shape="poly" title=" " alt="" coords="346,93,379,95,378,101,345,98"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a41afaa86d74dc2b3ddb59220c19a2b71" title=" " alt="" coords="722,9,918,54"/>
<area shape="poly" title=" " alt="" coords="610,83,716,56,717,61,611,89"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#a79baa8d3483187185fd064510f5715d8" title=" " alt="" coords="695,78,945,140"/>
<area shape="poly" title=" " alt="" coords="648,106,680,106,680,112,648,112"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#a25b1a92e488c7ece5cde12ba08e9a0ab" title=" " alt="" coords="711,164,929,209"/>
<area shape="poly" title=" " alt="" coords="611,129,717,157,716,162,610,135"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a4129dd8ac67056dea61f666182deed2f" title=" " alt="" coords="998,52,1206,97"/>
<area shape="poly" title=" " alt="" coords="945,91,982,86,983,92,945,96"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a6c5a9959eb32574ab2ad37a360bc011d" title=" " alt="" coords="993,121,1211,166"/>
<area shape="poly" title=" " alt="" coords="945,122,978,126,977,131,945,127"/>
<area shape="rect" href="dnastrmanipfuncs_8hpp.html#a65cb54486037d53713e6632e8939751b" title=" " alt="" coords="484,175,557,203"/>
<area shape="poly" title=" " alt="" coords="279,186,469,186,469,192,279,192"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="metadata_8cpp_ab3846659b35229f2e30d5c18131eef60_icgraph.png" border="0" usemap="#ametadata_8cpp_ab3846659b35229f2e30d5c18131eef60_icgraph" alt=""/></div>
<map name="ametadata_8cpp_ab3846659b35229f2e30d5c18131eef60_icgraph" id="ametadata_8cpp_ab3846659b35229f2e30d5c18131eef60_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,201,33"/>
<area shape="rect" href="metadata_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,60,33"/>
<area shape="poly" title=" " alt="" coords="92,22,60,22,60,16,92,16"/>
</map>
</div>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="metadata_8cpp_source.html#l00342">342</a> of file <a class="el" href="metadata_8cpp_source.html">metadata.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  343</span>{</div>
<div class="line"><span class="lineno">  344</span>    std::stringstream ss_err;</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    std::string cmd_line_banner;</div>
<div class="line"><span class="lineno">  347</span>    <a class="code hl_function" href="dnastringfuncs_8cpp.html#a73dbbf51a065e1e7d456e53f5cbdcc4e">fileproc_help_header</a>(&amp;cmd_line_banner);</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_struct" href="structproject__settings.html">project_settings</a> p;</div>
<div class="line"><span class="lineno">  350</span>    boost::program_options::variables_map vm;</div>
<div class="line"><span class="lineno">  351</span>    boost::program_options::positional_options_description positional_options;</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    boost::program_options::options_description standard_options(<span class="stringliteral">&quot;+ &quot;</span> + std::string(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#ad3360a0e420807d7f52f6d6a720e1782">ALL_MODULE_STDOPT</a>), <a class="code hl_function" href="dnaconsts-iostream_8hpp.html#ac790a0a7b37d3f7c134a2b1c221cacbb">PROGRAM_OPTIONS_LINE_LENGTH</a>);</div>
<div class="line"><span class="lineno">  354</span>    boost::program_options::options_description generic_options(<span class="stringliteral">&quot;+ &quot;</span> + std::string(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a3744c1c56d9cc60c6b02699bdae220b3">ALL_MODULE_GENERIC</a>), <a class="code hl_function" href="dnaconsts-iostream_8hpp.html#ac790a0a7b37d3f7c134a2b1c221cacbb">PROGRAM_OPTIONS_LINE_LENGTH</a>);</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>    std::string cmd_line_usage(<span class="stringliteral">&quot;+ &quot;</span>);</div>
<div class="line"><span class="lineno">  357</span>    cmd_line_usage.append(__BINARY_NAME__).append(<span class="stringliteral">&quot; usage:  &quot;</span>).append(__BINARY_NAME__).append(<span class="stringliteral">&quot; &quot;</span>).append(<span class="stringliteral">&quot; [options]&quot;</span>);</div>
<div class="line"><span class="lineno">  358</span>    boost::program_options::options_description allowable_options(cmd_line_usage, <a class="code hl_function" href="dnaconsts-iostream_8hpp.html#ac790a0a7b37d3f7c134a2b1c221cacbb">PROGRAM_OPTIONS_LINE_LENGTH</a>);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  361</span>        standard_options.add_options()</div>
<div class="line"><span class="lineno">  362</span>            (<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a48f41c59b7602c85a9e49626e28b428e">IMPORT_FILE_F</a>, boost::program_options::value&lt; vstring &gt;(&amp;p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>), </div>
<div class="line"><span class="lineno">  363</span>                <span class="stringliteral">&quot;Station and measurement input file(s). Switch is not required.&quot;</span>)</div>
<div class="line"><span class="lineno">  364</span>            ;</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>        generic_options.add_options()</div>
<div class="line"><span class="lineno">  367</span>            (<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#ad67529f1436fc8d57851beacae7a41f6">VERBOSE</a>, boost::program_options::value&lt;UINT16&gt;(&amp;p.<a class="code hl_variable" href="structproject__settings.html#a2d6eaeb421b43b07434eb495d138205e">g</a>.<a class="code hl_variable" href="structgeneral__settings.html#a9521d23b6231e0078528340b4db41a30">verbose</a>),</div>
<div class="line"><span class="lineno">  368</span>                std::string(<span class="stringliteral">&quot;Give detailed information about what &quot;</span>).append(__BINARY_NAME__).append(<span class="stringliteral">&quot; is doing.\n  0: No information (default)\n  1: Helpful information\n  2: Extended information\n  3: Debug level information&quot;</span>).c_str())</div>
<div class="line"><span class="lineno">  369</span>            (<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a50cc501f438968b72b29c13dcadbe485">QUIET</a>,</div>
<div class="line"><span class="lineno">  370</span>                std::string(<span class="stringliteral">&quot;Suppresses all explanation of what &quot;</span>).append(__BINARY_NAME__).append(<span class="stringliteral">&quot; is doing unless an error occurs.&quot;</span>).c_str())</div>
<div class="line"><span class="lineno">  371</span>            (<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a00b25b4dbcaec35219ffc5c0ab5f24c3">VERSION_V</a>, <span class="stringliteral">&quot;Display the current program version.&quot;</span>)</div>
<div class="line"><span class="lineno">  372</span>            (<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#ab329ecf7514537b6620087bf3d5b69bb">HELP_H</a>, <span class="stringliteral">&quot;Show this help message.&quot;</span>)</div>
<div class="line"><span class="lineno">  373</span>            (<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#ac7ea8804bebdeca3dde8189ea0d39dc5">HELP_MODULE_H</a>, boost::program_options::value&lt;std::string&gt;(),</div>
<div class="line"><span class="lineno">  374</span>                <span class="stringliteral">&quot;Provide help for a specific help category.&quot;</span>)</div>
<div class="line"><span class="lineno">  375</span>            ;</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>        allowable_options.add(standard_options).add(generic_options);</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>        <span class="comment">// add &quot;positional options&quot; to handle command line tokens which have no option name</span></div>
<div class="line"><span class="lineno">  380</span>        positional_options.add(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#aaa834674ab03d4bc223c6e2cf39581d4">IMPORT_FILE</a>, -1);</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>        boost::program_options::command_line_parser parser(argc, argv);</div>
<div class="line"><span class="lineno">  383</span>        store(parser.options(allowable_options).positional(positional_options).run(), vm);</div>
<div class="line"><span class="lineno">  384</span>        notify(vm);</div>
<div class="line"><span class="lineno">  385</span>    } </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  387</span>        <a class="code hl_variable" href="dnaadjustprogress_8cpp.html#a8246db01e9a8332d1288a4cbe94ea449">cout_mutex</a>.lock();</div>
<div class="line"><span class="lineno">  388</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;- Error: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  389</span>        std::cout &lt;&lt; cmd_line_banner &lt;&lt; allowable_options &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  390</span>        <a class="code hl_variable" href="dnaadjustprogress_8cpp.html#a8246db01e9a8332d1288a4cbe94ea449">cout_mutex</a>.unlock();</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordflow">if</span> (argc &lt; 2)</div>
<div class="line"><span class="lineno">  395</span>    {</div>
<div class="line"><span class="lineno">  396</span>        std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;- Nothing to do - no files or options provided. &quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;  </div>
<div class="line"><span class="lineno">  397</span>        std::cout &lt;&lt; cmd_line_banner &lt;&lt; allowable_options &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  399</span>    }</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">if</span> (vm.count(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a6873f1dab57e5c8f8b5a6a0681cbc7c8">VERSION</a>))</div>
<div class="line"><span class="lineno">  402</span>    {</div>
<div class="line"><span class="lineno">  403</span>        std::cout &lt;&lt; cmd_line_banner &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><span class="lineno">  405</span>    }</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">if</span> (vm.count(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a072cb7a0e169cbbd172678dad3250afa">HELP</a>))</div>
<div class="line"><span class="lineno">  408</span>    {</div>
<div class="line"><span class="lineno">  409</span>        std::cout &lt;&lt; cmd_line_banner &lt;&lt; allowable_options &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><span class="lineno">  411</span>    }</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (vm.count(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a7953ade681797f844d40be1895bd77ce">HELP_MODULE</a>))</div>
<div class="line"><span class="lineno">  414</span>    {</div>
<div class="line"><span class="lineno">  415</span>        std::cout &lt;&lt; cmd_line_banner;</div>
<div class="line"><span class="lineno">  416</span>        std::string original_text = vm[<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a7953ade681797f844d40be1895bd77ce">HELP_MODULE</a>].as&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  417</span>        std::string help_text = <a class="code hl_function" href="dnastrmanipfuncs_8hpp.html#ac75540ff096048fd8fc591e35bab8687">str_upper&lt;std::string&gt;</a>(original_text);</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="dnastrmanipfuncs_8hpp.html#ac75540ff096048fd8fc591e35bab8687">str_upper&lt;std::string, char&gt;</a>(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#ad3360a0e420807d7f52f6d6a720e1782">ALL_MODULE_STDOPT</a>).find(help_text) != std::string::npos) {</div>
<div class="line"><span class="lineno">  420</span>            std::cout &lt;&lt; standard_options &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  421</span>        }</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="dnastrmanipfuncs_8hpp.html#ac75540ff096048fd8fc591e35bab8687">str_upper&lt;std::string, char&gt;</a>(<a class="code hl_variable" href="dnaoptions-interface_8hpp.html#a3744c1c56d9cc60c6b02699bdae220b3">ALL_MODULE_GENERIC</a>).find(help_text) != std::string::npos) {</div>
<div class="line"><span class="lineno">  423</span>            std::cout &lt;&lt; generic_options &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  424</span>        }</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  426</span>            std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;- Error: Help module &#39;&quot;</span> &lt;&lt;</div>
<div class="line"><span class="lineno">  427</span>                original_text &lt;&lt; <span class="stringliteral">&quot;&#39; is not in the list of options.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  428</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  429</span>        }</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    <span class="comment">// Normalise files using input folder</span></div>
<div class="line"><span class="lineno">  435</span>    for_each(p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>.begin(), p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>.end(),</div>
<div class="line"><span class="lineno">  436</span>        [&amp;p] (std::string&amp; file) { </div>
<div class="line"><span class="lineno">  437</span>            formPath&lt;std::string&gt;(p.g.input_folder, file);</div>
<div class="line"><span class="lineno">  438</span>    }</div>
<div class="line"><span class="lineno">  439</span>    );</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_typedef" href="dnatypes_8hpp.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> stnCount(0), msrCount(0), clusterID(0);</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordtype">size_t</span> i, nfiles(p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>.size());       <span class="comment">// for each file...</span></div>
<div class="line"><span class="lineno">  444</span>    std::string input_file, output_file, ss;</div>
<div class="line"><span class="lineno">  445</span>    std::string defaultFrame, defaultEpoch;</div>
<div class="line"><span class="lineno">  446</span>    </div>
<div class="line"><span class="lineno">  447</span>    std::ostringstream ss_time, ss_msg;</div>
<div class="line"><span class="lineno">  448</span>    boost::posix_time::milliseconds elapsed_time(boost::posix_time::milliseconds(0));</div>
<div class="line"><span class="lineno">  449</span>    boost::posix_time::ptime pt;</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (!p.<a class="code hl_variable" href="structproject__settings.html#a2d6eaeb421b43b07434eb495d138205e">g</a>.<a class="code hl_variable" href="structgeneral__settings.html#af2c55c9b180ccec32ab5e0409011dac2">quiet</a>)</div>
<div class="line"><span class="lineno">  452</span>    {</div>
<div class="line"><span class="lineno">  453</span>        std::cout &lt;&lt; std::endl &lt;&lt; cmd_line_banner;</div>
<div class="line"><span class="lineno">  454</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;+ Parsing: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  455</span>    }</div>
<div class="line"><span class="lineno">  456</span>    </div>
<div class="line"><span class="lineno">  457</span>    boost::timer::cpu_timer <a class="code hl_typedef" href="namespacexml__schema.html#a12683372c957b465ccc5bf1594600a4f">time</a>;   <span class="comment">// constructor of boost::timer::cpu_timer calls start()</span></div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    std::ifstream*  ifsDynaML_;</div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordtype">size_t</span>      sifsFileSize_, measurementUpdateCount(0), unsureFrameCount(0), unsureEpochCount(0);</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    std::ofstream*  ofsDynaML_;</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    ifsDynaML_ = 0;</div>
<div class="line"><span class="lineno">  465</span>    ofsDynaML_ = 0;</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordtype">size_t</span> strlen_arg = 0;</div>
<div class="line"><span class="lineno">  468</span>    for_each(p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>.begin(), p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>.end(),</div>
<div class="line"><span class="lineno">  469</span>        [&amp;strlen_arg](std::string&amp; file) {</div>
<div class="line"><span class="lineno">  470</span>            if (leafStr&lt;std::string&gt;(file).length() &gt; strlen_arg)</div>
<div class="line"><span class="lineno">  471</span>                strlen_arg = leafStr&lt;std::string&gt;(file).length();</div>
<div class="line"><span class="lineno">  472</span>    });</div>
<div class="line"><span class="lineno">  473</span>    strlen_arg += (6 + <a class="code hl_variable" href="dnaconsts-interface_8hpp.html#a4463531beeec0c66c96f218887b117df">PROGRESS_PERCENT_04</a>);</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">for</span> (i=0; i&lt;nfiles; i++)</div>
<div class="line"><span class="lineno">  476</span>    {</div>
<div class="line"><span class="lineno">  477</span>        input_file = p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>.at(i);</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>        <a class="code hl_typedef" href="namespacexml__schema.html#a12683372c957b465ccc5bf1594600a4f">time</a>.start();</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span> (!boost::filesystem::exists(input_file))</div>
<div class="line"><span class="lineno">  482</span>        {</div>
<div class="line"><span class="lineno">  483</span>            input_file = <a class="code hl_function" href="dnafilepathfuncs_8hpp.html#a946a6d10794a61a52b95899ca420331f">formPath&lt;std::string&gt;</a>(p.<a class="code hl_variable" href="structproject__settings.html#a2d6eaeb421b43b07434eb495d138205e">g</a>.<a class="code hl_variable" href="structgeneral__settings.html#a12177ea09cd622fe1925ae5238f5c78d">input_folder</a>, input_file);</div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">if</span> (!boost::filesystem::exists(input_file))</div>
<div class="line"><span class="lineno">  485</span>            {   </div>
<div class="line"><span class="lineno">  486</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;- Error:  &quot;</span> &lt;&lt; input_file &lt;&lt; <span class="stringliteral">&quot; does not exist&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  487</span>                <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  488</span>            }</div>
<div class="line"><span class="lineno">  489</span>        }</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>        <span class="comment">// Form output file path</span></div>
<div class="line"><span class="lineno">  492</span>        std::stringstream ss_outputfile(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  493</span>        ss_outputfile &lt;&lt; boost::filesystem::path(input_file).stem().generic_string();</div>
<div class="line"><span class="lineno">  494</span>        ss_outputfile &lt;&lt; <span class="stringliteral">&quot;.edit.xml&quot;</span>;</div>
<div class="line"><span class="lineno">  495</span>        output_file = ss_outputfile.str();</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>        ss = <a class="code hl_function" href="dnafilepathfuncs_8hpp.html#a0a931781dffb69c8f3171b87d85641d3">leafStr&lt;std::string&gt;</a>(p.<a class="code hl_variable" href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">i</a>.<a class="code hl_variable" href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">input_files</a>.at(i)) + <span class="stringliteral">&quot;... &quot;</span>;</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span> (!p.<a class="code hl_variable" href="structproject__settings.html#a2d6eaeb421b43b07434eb495d138205e">g</a>.<a class="code hl_variable" href="structgeneral__settings.html#af2c55c9b180ccec32ab5e0409011dac2">quiet</a>)</div>
<div class="line"><span class="lineno">  499</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; std::setw(strlen_arg) &lt;&lt; std::left &lt;&lt; ss;</div>
<div class="line"><span class="lineno">  500</span>        </div>
<div class="line"><span class="lineno">  501</span>        <span class="comment">// Obtain exclusive use of the input file pointer</span></div>
<div class="line"><span class="lineno">  502</span>        <a class="code hl_variable" href="#a4e6f2be58f584e0d6036e3215832bd25">import_file_mutex</a>.lock();</div>
<div class="line"><span class="lineno">  503</span>        </div>
<div class="line"><span class="lineno">  504</span>        <span class="keywordflow">try</span> </div>
<div class="line"><span class="lineno">  505</span>        {</div>
<div class="line"><span class="lineno">  506</span>            <span class="keywordflow">if</span> (ifsDynaML_)</div>
<div class="line"><span class="lineno">  507</span>            {</div>
<div class="line"><span class="lineno">  508</span>                ifsDynaML_-&gt;close();</div>
<div class="line"><span class="lineno">  509</span>                <span class="keyword">delete</span> ifsDynaML_;</div>
<div class="line"><span class="lineno">  510</span>            }</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>            ifsDynaML_ = <span class="keyword">new</span> std::ifstream;</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>            <span class="comment">// Open and seek to end immediately after opening.</span></div>
<div class="line"><span class="lineno">  515</span>            <a class="code hl_function" href="dnaiostreamfuncs_8hpp.html#a3a9a8a8f1d32538aba8eebf4f4a0f004">file_opener</a>(ifsDynaML_, input_file, std::ios::in | std::ios::ate, <a class="code hl_enumvalue" href="dnatypes_8hpp.html#ac42b1d3c0da1df18cf6d8795fde54777a1fc467976b8e2979150a99beb709443e">ascii</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  516</span>        </div>
<div class="line"><span class="lineno">  517</span>            <span class="comment">// get file size and return to start</span></div>
<div class="line"><span class="lineno">  518</span>            sifsFileSize_ = (size_t)ifsDynaML_-&gt;tellg();</div>
<div class="line"><span class="lineno">  519</span>            ifsDynaML_-&gt;seekg(0, std::ios::beg);</div>
<div class="line"><span class="lineno">  520</span>        }</div>
<div class="line"><span class="lineno">  521</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::ios_base::failure&amp; f) {   </div>
<div class="line"><span class="lineno">  522</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;- Error: An error was encountered when opening &quot;</span> &lt;&lt; input_file &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  523</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;  Check that the file exists and that the file is not already opened.&quot;</span> &lt;&lt; std::endl &lt;&lt; f.what();</div>
<div class="line"><span class="lineno">  524</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  525</span>        }</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">catch</span> (...) {   </div>
<div class="line"><span class="lineno">  527</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;- Error: An error was encountered when opening &quot;</span> &lt;&lt; input_file &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  528</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;  Check that the file exists and that the file is not already opened.&quot;</span>;</div>
<div class="line"><span class="lineno">  529</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  530</span>        }</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">try</span> </div>
<div class="line"><span class="lineno">  533</span>        {</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">if</span> (ofsDynaML_)</div>
<div class="line"><span class="lineno">  535</span>            {</div>
<div class="line"><span class="lineno">  536</span>                ofsDynaML_-&gt;close();</div>
<div class="line"><span class="lineno">  537</span>                <span class="keyword">delete</span> ofsDynaML_;</div>
<div class="line"><span class="lineno">  538</span>            }</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>            ofsDynaML_ = <span class="keyword">new</span> std::ofstream;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>            <span class="comment">// Open output file</span></div>
<div class="line"><span class="lineno">  543</span>            <a class="code hl_function" href="dnaiostreamfuncs_8hpp.html#a3a9a8a8f1d32538aba8eebf4f4a0f004">file_opener</a>(ofsDynaML_, output_file, std::ios::out, <a class="code hl_enumvalue" href="dnatypes_8hpp.html#ac42b1d3c0da1df18cf6d8795fde54777a1fc467976b8e2979150a99beb709443e">ascii</a>);</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>        }</div>
<div class="line"><span class="lineno">  546</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::ios_base::failure&amp; f) {   </div>
<div class="line"><span class="lineno">  547</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;- Error: An error was encountered when opening &quot;</span> &lt;&lt; output_file &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl &lt;&lt; f.what();</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  549</span>        }</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">catch</span> (...) {   </div>
<div class="line"><span class="lineno">  551</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;- Error: An error was encountered when opening &quot;</span> &lt;&lt; output_file &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  553</span>        }</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  556</span>            measurementUpdateCount = 0;</div>
<div class="line"><span class="lineno">  557</span>            unsureFrameCount = 0;</div>
<div class="line"><span class="lineno">  558</span>            unsureEpochCount = 0;</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>            <span class="comment">// Process the file</span></div>
<div class="line"><span class="lineno">  561</span>            <a class="code hl_function" href="#ab3846659b35229f2e30d5c18131eef60">processFile</a>(ifsDynaML_, ofsDynaML_, defaultFrame, defaultEpoch, </div>
<div class="line"><span class="lineno">  562</span>                measurementUpdateCount, unsureFrameCount, unsureEpochCount);</div>
<div class="line"><span class="lineno">  563</span>        }</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::runtime_error&amp; e) {</div>
<div class="line"><span class="lineno">  565</span>            std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;- Error: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  566</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  567</span>        }<span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classdynadjust_1_1exception_1_1XMLInteropException.html">XMLInteropException</a>&amp; e) {</div>
<div class="line"><span class="lineno">  568</span>            std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;- Error: &quot;</span> &lt;&lt; e.<a class="code hl_function" href="classdynadjust_1_1exception_1_1XMLInteropException.html#a08c2e12b937949b31d02fbb155c60264">what</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  569</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  570</span>        }</div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">catch</span> (...) </div>
<div class="line"><span class="lineno">  572</span>        {</div>
<div class="line"><span class="lineno">  573</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;+ Exception of unknown type!\n&quot;</span>;</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  575</span>        } </div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>        <span class="comment">// Finish up</span></div>
<div class="line"><span class="lineno">  578</span>        <a class="code hl_typedef" href="namespacexml__schema.html#a12683372c957b465ccc5bf1594600a4f">time</a>.stop();</div>
<div class="line"><span class="lineno">  579</span>        elapsed_time = boost::posix_time::milliseconds(<a class="code hl_typedef" href="namespacexml__schema.html#a12683372c957b465ccc5bf1594600a4f">time</a>.elapsed().wall/<a class="code hl_function" href="dnaconsts_8hpp.html#a243959819d67e29b4706dca46704b5d4">MILLI_TO_NANO</a>);</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">if</span> (!p.<a class="code hl_variable" href="structproject__settings.html#a2d6eaeb421b43b07434eb495d138205e">g</a>.<a class="code hl_variable" href="structgeneral__settings.html#af2c55c9b180ccec32ab5e0409011dac2">quiet</a>)</div>
<div class="line"><span class="lineno">  582</span>        {</div>
<div class="line"><span class="lineno">  583</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;done.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  584</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;+ Output file:                          &quot;</span> &lt;&lt; output_file &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  585</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;+ Default reference frame:              &quot;</span> &lt;&lt; defaultFrame &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  586</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;+ Default epoch:                        &quot;</span> &lt;&lt; defaultEpoch &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  587</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;+ No. DnaMeasurement records updated:   &quot;</span> &lt;&lt; measurementUpdateCount &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  588</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;+ No. comments with \&quot;unsure\&quot; frame:     &quot;</span> &lt;&lt; unsureFrameCount &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  589</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;+ No. comments with \&quot;unsure\&quot; epoch:     &quot;</span> &lt;&lt; unsureEpochCount &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  590</span>                    </div>
<div class="line"><span class="lineno">  591</span>        }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>        <span class="comment">// Close input file</span></div>
<div class="line"><span class="lineno">  594</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  595</span>            <span class="keywordflow">if</span> (ifsDynaML_)</div>
<div class="line"><span class="lineno">  596</span>            {</div>
<div class="line"><span class="lineno">  597</span>                <span class="keywordflow">if</span> (ifsDynaML_-&gt;good())</div>
<div class="line"><span class="lineno">  598</span>                    ifsDynaML_-&gt;close();</div>
<div class="line"><span class="lineno">  599</span>                <span class="keyword">delete</span> ifsDynaML_;</div>
<div class="line"><span class="lineno">  600</span>            }</div>
<div class="line"><span class="lineno">  601</span>        }</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::ifstream::failure&amp; e)</div>
<div class="line"><span class="lineno">  603</span>        {</div>
<div class="line"><span class="lineno">  604</span>            <span class="keywordflow">if</span> (ifsDynaML_-&gt;rdstate() &amp; std::ifstream::eofbit)</div>
<div class="line"><span class="lineno">  605</span>            {</div>
<div class="line"><span class="lineno">  606</span>                ifsDynaML_ = 0;</div>
<div class="line"><span class="lineno">  607</span>            }</div>
<div class="line"><span class="lineno">  608</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;- Error: An error was encountered when closing &quot;</span> &lt;&lt; input_file &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; e.what() &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;  Check that the file exists and that the file is not already opened.&quot;</span>;</div>
<div class="line"><span class="lineno">  609</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  610</span>        }</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>        ifsDynaML_ = 0;</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>        <span class="comment">// Close output file</span></div>
<div class="line"><span class="lineno">  615</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  616</span>            <span class="keywordflow">if</span> (ofsDynaML_)</div>
<div class="line"><span class="lineno">  617</span>            {</div>
<div class="line"><span class="lineno">  618</span>                <span class="keywordflow">if</span> (ofsDynaML_-&gt;good())</div>
<div class="line"><span class="lineno">  619</span>                    ofsDynaML_-&gt;close();</div>
<div class="line"><span class="lineno">  620</span>                <span class="keyword">delete</span> ofsDynaML_;</div>
<div class="line"><span class="lineno">  621</span>            }</div>
<div class="line"><span class="lineno">  622</span>        }</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::ifstream::failure&amp; e)</div>
<div class="line"><span class="lineno">  624</span>        {</div>
<div class="line"><span class="lineno">  625</span>            <span class="keywordflow">if</span> (ofsDynaML_-&gt;rdstate() &amp; std::ifstream::eofbit)</div>
<div class="line"><span class="lineno">  626</span>            {</div>
<div class="line"><span class="lineno">  627</span>                ofsDynaML_ = 0;</div>
<div class="line"><span class="lineno">  628</span>            }</div>
<div class="line"><span class="lineno">  629</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;- Error: An error was encountered when closing &quot;</span> &lt;&lt; output_file &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  630</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  631</span>        }</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>        ofsDynaML_ = 0;</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">if</span> (!p.<a class="code hl_variable" href="structproject__settings.html#a2d6eaeb421b43b07434eb495d138205e">g</a>.<a class="code hl_variable" href="structgeneral__settings.html#af2c55c9b180ccec32ab5e0409011dac2">quiet</a>)</div>
<div class="line"><span class="lineno">  636</span>        {</div>
<div class="line"><span class="lineno">  637</span>            std::string time_message = <a class="code hl_function" href="dnatemplatedatetimefuncs_8hpp.html#ad6e8f9eb2f492c2c20497468e1f708b9">formatedElapsedTime&lt;std::string&gt;</a>(&amp;elapsed_time, <span class="stringliteral">&quot;+ File processing time:                 &quot;</span>);</div>
<div class="line"><span class="lineno">  638</span>            std::cout &lt;&lt; time_message &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  639</span>        }</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>        <span class="comment">// release file pointer mutex</span></div>
<div class="line"><span class="lineno">  642</span>        <a class="code hl_variable" href="#a4e6f2be58f584e0d6036e3215832bd25">import_file_mutex</a>.unlock();</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    }</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>}</div>
<div class="ttc" id="aclassdynadjust_1_1exception_1_1XMLInteropException_html_a08c2e12b937949b31d02fbb155c60264"><div class="ttname"><a href="classdynadjust_1_1exception_1_1XMLInteropException.html#a08c2e12b937949b31d02fbb155c60264">dynadjust::exception::XMLInteropException::what</a></div><div class="ttdeci">virtual const char * what() const</div><div class="ttdef"><b>Definition</b> <a href="dnaexception_8hpp_source.html#l00088">dnaexception.hpp:88</a></div></div>
<div class="ttc" id="adnaadjustprogress_8cpp_html_a8246db01e9a8332d1288a4cbe94ea449"><div class="ttname"><a href="dnaadjustprogress_8cpp.html#a8246db01e9a8332d1288a4cbe94ea449">cout_mutex</a></div><div class="ttdeci">boost::mutex cout_mutex</div><div class="ttdef"><b>Definition</b> <a href="dnaadjustprogress_8cpp_source.html#l00026">dnaadjustprogress.cpp:26</a></div></div>
<div class="ttc" id="adnaconsts-interface_8hpp_html_a4463531beeec0c66c96f218887b117df"><div class="ttname"><a href="dnaconsts-interface_8hpp.html#a4463531beeec0c66c96f218887b117df">PROGRESS_PERCENT_04</a></div><div class="ttdeci">const UINT16 PROGRESS_PERCENT_04</div><div class="ttdef"><b>Definition</b> <a href="dnaconsts-interface_8hpp_source.html#l00039">dnaconsts-interface.hpp:39</a></div></div>
<div class="ttc" id="adnaconsts-iostream_8hpp_html_ac790a0a7b37d3f7c134a2b1c221cacbb"><div class="ttname"><a href="dnaconsts-iostream_8hpp.html#ac790a0a7b37d3f7c134a2b1c221cacbb">PROGRAM_OPTIONS_LINE_LENGTH</a></div><div class="ttdeci">const UINT32 PROGRAM_OPTIONS_LINE_LENGTH(100)</div></div>
<div class="ttc" id="adnaconsts_8hpp_html_a243959819d67e29b4706dca46704b5d4"><div class="ttname"><a href="dnaconsts_8hpp.html#a243959819d67e29b4706dca46704b5d4">MILLI_TO_NANO</a></div><div class="ttdeci">const long MILLI_TO_NANO(1000000)</div></div>
<div class="ttc" id="adnafilepathfuncs_8hpp_html_a0a931781dffb69c8f3171b87d85641d3"><div class="ttname"><a href="dnafilepathfuncs_8hpp.html#a0a931781dffb69c8f3171b87d85641d3">leafStr</a></div><div class="ttdeci">T leafStr(const T &amp;filePath)</div><div class="ttdef"><b>Definition</b> <a href="dnafilepathfuncs_8hpp_source.html#l00059">dnafilepathfuncs.hpp:59</a></div></div>
<div class="ttc" id="adnafilepathfuncs_8hpp_html_a946a6d10794a61a52b95899ca420331f"><div class="ttname"><a href="dnafilepathfuncs_8hpp.html#a946a6d10794a61a52b95899ca420331f">formPath</a></div><div class="ttdeci">T formPath(const T &amp;folder, const T &amp;file, const T &amp;ext)</div><div class="ttdef"><b>Definition</b> <a href="dnafilepathfuncs_8hpp_source.html#l00047">dnafilepathfuncs.hpp:47</a></div></div>
<div class="ttc" id="adnaiostreamfuncs_8hpp_html_a3a9a8a8f1d32538aba8eebf4f4a0f004"><div class="ttname"><a href="dnaiostreamfuncs_8hpp.html#a3a9a8a8f1d32538aba8eebf4f4a0f004">file_opener</a></div><div class="ttdeci">void file_opener(T *stream, const std::string &amp;str, std::ios_base::openmode mode=std::ios_base::out, const iosMode type=ascii, bool fileMustExist=false)</div><div class="ttdef"><b>Definition</b> <a href="dnaiostreamfuncs_8hpp_source.html#l00073">dnaiostreamfuncs.hpp:73</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_a00b25b4dbcaec35219ffc5c0ab5f24c3"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#a00b25b4dbcaec35219ffc5c0ab5f24c3">VERSION_V</a></div><div class="ttdeci">const char *const VERSION_V</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00081">dnaoptions-interface.hpp:81</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_a072cb7a0e169cbbd172678dad3250afa"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#a072cb7a0e169cbbd172678dad3250afa">HELP</a></div><div class="ttdeci">const char *const HELP</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00078">dnaoptions-interface.hpp:78</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_a3744c1c56d9cc60c6b02699bdae220b3"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#a3744c1c56d9cc60c6b02699bdae220b3">ALL_MODULE_GENERIC</a></div><div class="ttdeci">const char *const ALL_MODULE_GENERIC</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00035">dnaoptions-interface.hpp:35</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_a48f41c59b7602c85a9e49626e28b428e"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#a48f41c59b7602c85a9e49626e28b428e">IMPORT_FILE_F</a></div><div class="ttdeci">const char *const IMPORT_FILE_F</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00061">dnaoptions-interface.hpp:61</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_a50cc501f438968b72b29c13dcadbe485"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#a50cc501f438968b72b29c13dcadbe485">QUIET</a></div><div class="ttdeci">const char *const QUIET</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00082">dnaoptions-interface.hpp:82</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_a6873f1dab57e5c8f8b5a6a0681cbc7c8"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#a6873f1dab57e5c8f8b5a6a0681cbc7c8">VERSION</a></div><div class="ttdeci">const char *const VERSION</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00080">dnaoptions-interface.hpp:80</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_a7953ade681797f844d40be1895bd77ce"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#a7953ade681797f844d40be1895bd77ce">HELP_MODULE</a></div><div class="ttdeci">const char *const HELP_MODULE</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00076">dnaoptions-interface.hpp:76</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_aaa834674ab03d4bc223c6e2cf39581d4"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#aaa834674ab03d4bc223c6e2cf39581d4">IMPORT_FILE</a></div><div class="ttdeci">const char *const IMPORT_FILE</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00060">dnaoptions-interface.hpp:60</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_ab329ecf7514537b6620087bf3d5b69bb"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#ab329ecf7514537b6620087bf3d5b69bb">HELP_H</a></div><div class="ttdeci">const char *const HELP_H</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00079">dnaoptions-interface.hpp:79</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_ac7ea8804bebdeca3dde8189ea0d39dc5"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#ac7ea8804bebdeca3dde8189ea0d39dc5">HELP_MODULE_H</a></div><div class="ttdeci">const char *const HELP_MODULE_H</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00077">dnaoptions-interface.hpp:77</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_ad3360a0e420807d7f52f6d6a720e1782"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#ad3360a0e420807d7f52f6d6a720e1782">ALL_MODULE_STDOPT</a></div><div class="ttdeci">const char *const ALL_MODULE_STDOPT</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00032">dnaoptions-interface.hpp:32</a></div></div>
<div class="ttc" id="adnaoptions-interface_8hpp_html_ad67529f1436fc8d57851beacae7a41f6"><div class="ttname"><a href="dnaoptions-interface_8hpp.html#ad67529f1436fc8d57851beacae7a41f6">VERBOSE</a></div><div class="ttdeci">const char *const VERBOSE</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions-interface_8hpp_source.html#l00083">dnaoptions-interface.hpp:83</a></div></div>
<div class="ttc" id="adnastringfuncs_8cpp_html_a73dbbf51a065e1e7d456e53f5cbdcc4e"><div class="ttname"><a href="dnastringfuncs_8cpp.html#a73dbbf51a065e1e7d456e53f5cbdcc4e">fileproc_help_header</a></div><div class="ttdeci">void fileproc_help_header(std::string *msg)</div><div class="ttdef"><b>Definition</b> <a href="dnastringfuncs_8cpp_source.html#l00131">dnastringfuncs.cpp:131</a></div></div>
<div class="ttc" id="adnastrmanipfuncs_8hpp_html_ac75540ff096048fd8fc591e35bab8687"><div class="ttname"><a href="dnastrmanipfuncs_8hpp.html#ac75540ff096048fd8fc591e35bab8687">str_upper</a></div><div class="ttdeci">S str_upper(const T *const strtext)</div><div class="ttdef"><b>Definition</b> <a href="dnastrmanipfuncs_8hpp_source.html#l00128">dnastrmanipfuncs.hpp:128</a></div></div>
<div class="ttc" id="adnatemplatedatetimefuncs_8hpp_html_ad6e8f9eb2f492c2c20497468e1f708b9"><div class="ttname"><a href="dnatemplatedatetimefuncs_8hpp.html#ad6e8f9eb2f492c2c20497468e1f708b9">formatedElapsedTime</a></div><div class="ttdeci">S formatedElapsedTime(boost::posix_time::milliseconds *elapsed_time, S app_message)</div><div class="ttdef"><b>Definition</b> <a href="dnatemplatedatetimefuncs_8hpp_source.html#l00563">dnatemplatedatetimefuncs.hpp:563</a></div></div>
<div class="ttc" id="adnatypes_8hpp_html_ac42b1d3c0da1df18cf6d8795fde54777a1fc467976b8e2979150a99beb709443e"><div class="ttname"><a href="dnatypes_8hpp.html#ac42b1d3c0da1df18cf6d8795fde54777a1fc467976b8e2979150a99beb709443e">ascii</a></div><div class="ttdeci">@ ascii</div><div class="ttdef"><b>Definition</b> <a href="dnatypes_8hpp_source.html#l00428">dnatypes.hpp:428</a></div></div>
<div class="ttc" id="adnatypes_8hpp_html_ae1e6edbbc26d6fbc71a90190d0266018"><div class="ttname"><a href="dnatypes_8hpp.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a></div><div class="ttdeci">unsigned int UINT32</div><div class="ttdef"><b>Definition</b> <a href="dnatypes_8hpp_source.html#l00050">dnatypes.hpp:50</a></div></div>
<div class="ttc" id="ametadata_8cpp_html_a4e6f2be58f584e0d6036e3215832bd25"><div class="ttname"><a href="#a4e6f2be58f584e0d6036e3215832bd25">import_file_mutex</a></div><div class="ttdeci">boost::mutex import_file_mutex</div><div class="ttdef"><b>Definition</b> <a href="metadata_8cpp_source.html#l00026">metadata.cpp:26</a></div></div>
<div class="ttc" id="ametadata_8cpp_html_ab3846659b35229f2e30d5c18131eef60"><div class="ttname"><a href="#ab3846659b35229f2e30d5c18131eef60">processFile</a></div><div class="ttdeci">void processFile(std::ifstream *ifsFile, std::ofstream *ofsFile, std::string &amp;defaultFrame, std::string &amp;defaultEpoch, size_t &amp;measurementUpdateCount, size_t &amp;unsureFrameCount, size_t &amp;unsureEpochCount)</div><div class="ttdef"><b>Definition</b> <a href="metadata_8cpp_source.html#l00150">metadata.cpp:150</a></div></div>
<div class="ttc" id="anamespacexml__schema_html_a12683372c957b465ccc5bf1594600a4f"><div class="ttname"><a href="namespacexml__schema.html#a12683372c957b465ccc5bf1594600a4f">xml_schema::time</a></div><div class="ttdeci">::xsd::cxx::parser::time time</div><div class="ttdef"><b>Definition</b> <a href="dnaparser__pskel_8hxx_source.html#l00123">dnaparser_pskel.hxx:123</a></div></div>
<div class="ttc" id="astructgeneral__settings_html_a12177ea09cd622fe1925ae5238f5c78d"><div class="ttname"><a href="structgeneral__settings.html#a12177ea09cd622fe1925ae5238f5c78d">general_settings::input_folder</a></div><div class="ttdeci">std::string input_folder</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions_8hpp_source.html#l00178">dnaoptions.hpp:178</a></div></div>
<div class="ttc" id="astructgeneral__settings_html_a9521d23b6231e0078528340b4db41a30"><div class="ttname"><a href="structgeneral__settings.html#a9521d23b6231e0078528340b4db41a30">general_settings::verbose</a></div><div class="ttdeci">UINT16 verbose</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions_8hpp_source.html#l00172">dnaoptions.hpp:172</a></div></div>
<div class="ttc" id="astructgeneral__settings_html_af2c55c9b180ccec32ab5e0409011dac2"><div class="ttname"><a href="structgeneral__settings.html#af2c55c9b180ccec32ab5e0409011dac2">general_settings::quiet</a></div><div class="ttdeci">UINT16 quiet</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions_8hpp_source.html#l00171">dnaoptions.hpp:171</a></div></div>
<div class="ttc" id="astructimport__settings_html_aa832561b054dfd7788a98570b53d9cc4"><div class="ttname"><a href="structimport__settings.html#aa832561b054dfd7788a98570b53d9cc4">import_settings::input_files</a></div><div class="ttdeci">vstring input_files</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions_8hpp_source.html#l00300">dnaoptions.hpp:300</a></div></div>
<div class="ttc" id="astructproject__settings_html"><div class="ttname"><a href="structproject__settings.html">project_settings</a></div><div class="ttdef"><b>Definition</b> <a href="dnaoptions_8hpp_source.html#l00689">dnaoptions.hpp:689</a></div></div>
<div class="ttc" id="astructproject__settings_html_a2d6eaeb421b43b07434eb495d138205e"><div class="ttname"><a href="structproject__settings.html#a2d6eaeb421b43b07434eb495d138205e">project_settings::g</a></div><div class="ttdeci">general_settings g</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions_8hpp_source.html#l00707">dnaoptions.hpp:707</a></div></div>
<div class="ttc" id="astructproject__settings_html_a3bf8dbfb72042e892f369a7654480d8c"><div class="ttname"><a href="structproject__settings.html#a3bf8dbfb72042e892f369a7654480d8c">project_settings::i</a></div><div class="ttdeci">import_settings i</div><div class="ttdef"><b>Definition</b> <a href="dnaoptions_8hpp_source.html#l00710">dnaoptions.hpp:710</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dnaoptions-interface_8hpp_source.html#l00035">ALL_MODULE_GENERIC</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00032">ALL_MODULE_STDOPT</a>, <a class="el" href="dnatypes_8hpp_source.html#l00428">ascii</a>, <a class="el" href="dnaadjustprogress_8cpp_source.html#l00026">cout_mutex</a>, <a class="el" href="dnaiostreamfuncs_8hpp_source.html#l00073">file_opener()</a>, <a class="el" href="dnastringfuncs_8cpp_source.html#l00131">fileproc_help_header()</a>, <a class="el" href="dnatemplatedatetimefuncs_8hpp_source.html#l00563">formatedElapsedTime()</a>, <a class="el" href="dnafilepathfuncs_8hpp_source.html#l00047">formPath()</a>, <a class="el" href="dnaoptions_8hpp_source.html#l00707">project_settings::g</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00078">HELP</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00079">HELP_H</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00076">HELP_MODULE</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00077">HELP_MODULE_H</a>, <a class="el" href="dnaoptions_8hpp_source.html#l00710">project_settings::i</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00060">IMPORT_FILE</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00061">IMPORT_FILE_F</a>, <a class="el" href="metadata_8cpp_source.html#l00026">import_file_mutex</a>, <a class="el" href="dnaoptions_8hpp_source.html#l00300">import_settings::input_files</a>, <a class="el" href="dnaoptions_8hpp_source.html#l00178">general_settings::input_folder</a>, <a class="el" href="dnafilepathfuncs_8hpp_source.html#l00059">leafStr()</a>, <a class="el" href="dnaconsts_8hpp.html#a243959819d67e29b4706dca46704b5d4">MILLI_TO_NANO()</a>, <a class="el" href="metadata_8cpp_source.html#l00150">processFile()</a>, <a class="el" href="dnaconsts-iostream_8hpp.html#ac790a0a7b37d3f7c134a2b1c221cacbb">PROGRAM_OPTIONS_LINE_LENGTH()</a>, <a class="el" href="dnaconsts-interface_8hpp_source.html#l00039">PROGRESS_PERCENT_04</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00082">QUIET</a>, <a class="el" href="dnaoptions_8hpp_source.html#l00171">general_settings::quiet</a>, <a class="el" href="dnastrmanipfuncs_8hpp_source.html#l00128">str_upper()</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00083">VERBOSE</a>, <a class="el" href="dnaoptions_8hpp_source.html#l00172">general_settings::verbose</a>, <a class="el" href="dnaoptions-interface_8hpp_source.html#l00080">VERSION</a>, and <a class="el" href="dnaoptions-interface_8hpp_source.html#l00081">VERSION_V</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="metadata_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#ametadata_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="ametadata_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="ametadata_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" title=" " alt="" coords="5,265,60,293"/>
<area shape="rect" href="dnaiostreamfuncs_8hpp.html#a3a9a8a8f1d32538aba8eebf4f4a0f004" title=" " alt="" coords="155,57,250,85"/>
<area shape="poly" title=" " alt="" coords="33,265,39,230,51,185,73,137,88,115,106,96,122,85,139,77,141,82,124,90,109,100,92,119,78,140,56,187,44,232,38,265"/>
<area shape="rect" href="dnastringfuncs_8cpp.html#a73dbbf51a065e1e7d456e53f5cbdcc4e" title=" " alt="" coords="124,109,281,137"/>
<area shape="poly" title=" " alt="" coords="36,264,59,207,79,175,106,148,114,142,117,146,109,152,84,179,64,210,41,266"/>
<area shape="rect" href="dnatemplatedatetimefuncs_8hpp.html#ad6e8f9eb2f492c2c20497468e1f708b9" title=" " alt="" coords="120,161,284,189"/>
<area shape="poly" title=" " alt="" coords="42,263,68,231,106,200,119,193,121,198,109,204,72,235,46,267"/>
<area shape="rect" href="dnafilepathfuncs_8hpp.html#a946a6d10794a61a52b95899ca420331f" title=" " alt="" coords="162,213,243,241"/>
<area shape="poly" title=" " alt="" coords="59,267,107,251,146,240,148,245,108,256,61,272"/>
<area shape="rect" href="dnafilepathfuncs_8hpp.html#a0a931781dffb69c8f3171b87d85641d3" title=" " alt="" coords="170,265,234,293"/>
<area shape="poly" title=" " alt="" coords="60,276,154,276,154,282,60,282"/>
<area shape="rect" href="dnaconsts_8hpp.html#a243959819d67e29b4706dca46704b5d4" title=" " alt="" coords="139,317,266,345"/>
<area shape="poly" title=" " alt="" coords="61,286,108,302,135,310,133,315,107,307,59,291"/>
<area shape="rect" href="metadata_8cpp.html#ab3846659b35229f2e30d5c18131eef60" title=" " alt="" coords="156,369,249,397"/>
<area shape="poly" title=" " alt="" coords="46,292,72,323,109,354,142,369,140,374,106,359,68,327,42,295"/>
<area shape="rect" href="dnaconsts-iostream_8hpp.html#ac790a0a7b37d3f7c134a2b1c221cacbb" title=" " alt="" coords="108,421,297,466"/>
<area shape="poly" title=" " alt="" coords="41,292,64,348,84,379,109,407,114,410,111,414,106,410,80,382,60,350,36,294"/>
<area shape="rect" href="dnastrmanipfuncs_8hpp.html#ac75540ff096048fd8fc591e35bab8687" title=" " alt="" coords="161,489,244,517"/>
<area shape="poly" title=" " alt="" coords="37,293,42,330,54,380,76,431,91,455,109,476,127,487,147,495,145,500,124,492,106,480,87,458,71,434,49,381,37,331,32,294"/>
<area shape="poly" title=" " alt="" coords="173,58,168,48,172,39,183,33,202,31,223,33,234,40,231,44,221,38,202,36,185,38,176,43,173,48,177,56"/>
<area shape="rect" href="dnaversion-stream_8hpp.html#ab364e6a29501f5cd3d7eca7b12cb033a" title=" " alt="" coords="353,5,536,33"/>
<area shape="poly" title=" " alt="" coords="270,106,296,94,310,82,319,70,328,56,344,44,356,37,359,42,346,48,332,60,323,73,314,86,298,99,272,111"/>
<area shape="rect" href="dnaversion-stream_8hpp.html#ae2b8dd0d81776e26fe49ec5d102da1ec" title=" " alt="" coords="370,57,519,85"/>
<area shape="poly" title=" " alt="" coords="270,106,361,86,362,91,271,111"/>
<area shape="rect" href="dnaversion-stream_8hpp.html#a8866f032f6dfbd1208523bb79d6c89cb" title=" " alt="" coords="394,109,496,137"/>
<area shape="poly" title=" " alt="" coords="281,120,378,120,378,126,281,126"/>
<area shape="rect" href="dnaversion-stream_8hpp.html#ad729652484b86663de40dd6b35ecdf90" title=" " alt="" coords="368,213,521,241"/>
<area shape="poly" title=" " alt="" coords="272,135,298,148,314,160,323,174,332,186,346,198,359,205,356,209,344,203,328,190,319,177,310,164,296,152,270,140"/>
<area shape="rect" href="dnaversion-stream_8hpp.html#a737daa0e4a11b99df02b198d3f5deb9d" title=" " alt="" coords="386,161,504,189"/>
<area shape="poly" title=" " alt="" coords="271,135,371,157,370,162,270,140"/>
<area shape="rect" href="dnaconsts-iostream_8hpp.html#a6c2544809d562354e1671894ac28c89a" title=" " alt="" coords="695,109,743,137"/>
<area shape="poly" title=" " alt="" coords="496,120,680,120,680,126,496,126"/>
<area shape="rect" href="dnaconsts-iostream_8hpp.html#accc158cedf7e80648757393d82ed9b65" title=" " alt="" coords="655,161,783,189"/>
<area shape="poly" title=" " alt="" coords="497,130,641,158,640,163,496,135"/>
<area shape="poly" title=" " alt="" coords="504,161,679,128,680,133,505,167"/>
<area shape="poly" title=" " alt="" coords="504,172,639,172,639,178,504,178"/>
<area shape="rect" href="metadata_8cpp.html#aeae1de01d8323a0943b557512633f87b" title=" " alt="" coords="345,368,544,412"/>
<area shape="poly" title=" " alt="" coords="249,382,330,384,329,389,249,387"/>
<area shape="rect" href="metadata_8cpp.html#a95fd51448fcd53e2e8d88eca58215b6f" title=" " alt="" coords="346,316,543,344"/>
<area shape="poly" title=" " alt="" coords="249,370,363,345,364,350,250,376"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#ac98bb12b484694dab89cf54872010609" title=" " alt="" coords="592,282,846,327"/>
<area shape="poly" title=" " alt="" coords="249,373,273,365,296,354,310,341,318,328,327,314,344,302,404,283,467,274,530,273,589,277,589,282,530,278,468,279,405,288,346,307,331,317,322,330,314,345,298,359,275,370,250,378"/>
<area shape="rect" href="dnastrmanipfuncs_8hpp.html#a5be156dfa9974303aebe8d2332a9d8dd" title=" " alt="" coords="412,436,477,464"/>
<area shape="poly" title=" " alt="" coords="250,392,298,406,346,422,398,436,397,441,344,427,296,411,249,398"/>
<area shape="poly" title=" " alt="" coords="543,318,577,315,577,320,544,323"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a41afaa86d74dc2b3ddb59220c19a2b71" title=" " alt="" coords="920,205,1116,250"/>
<area shape="poly" title=" " alt="" coords="808,279,914,251,915,256,809,284"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#a79baa8d3483187185fd064510f5715d8" title=" " alt="" coords="894,274,1143,335"/>
<area shape="poly" title=" " alt="" coords="846,302,878,302,878,307,846,307"/>
<area shape="rect" href="classdynadjust_1_1datum__parameters_1_1CDnaDatum.html#a25b1a92e488c7ece5cde12ba08e9a0ab" title=" " alt="" coords="910,360,1127,404"/>
<area shape="poly" title=" " alt="" coords="809,325,915,353,914,358,808,330"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a4129dd8ac67056dea61f666182deed2f" title=" " alt="" coords="1196,248,1404,292"/>
<area shape="poly" title=" " alt="" coords="1143,286,1181,282,1181,287,1144,292"/>
<area shape="rect" href="namespacedynadjust_1_1epsg.html#a6c5a9959eb32574ab2ad37a360bc011d" title=" " alt="" coords="1191,317,1409,362"/>
<area shape="poly" title=" " alt="" coords="1144,317,1176,321,1175,327,1143,323"/>
<area shape="rect" href="dnastrmanipfuncs_8hpp.html#a65cb54486037d53713e6632e8939751b" title=" " alt="" coords="683,436,755,464"/>
<area shape="poly" title=" " alt="" coords="478,447,667,447,667,452,478,452"/>
<area shape="rect" href="dnastrmanipfuncs_8hpp.html#a35bc9f930ea3341e89cbb8706f46fe36" title=" " alt="" coords="397,489,492,517"/>
<area shape="poly" title=" " alt="" coords="244,500,381,500,381,506,244,506"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8246db01e9a8332d1288a4cbe94ea449" name="a8246db01e9a8332d1288a4cbe94ea449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8246db01e9a8332d1288a4cbe94ea449">&#9670;&#160;</a></span>cout_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex cout_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="metadata_8cpp_source.html#l00025">25</a> of file <a class="el" href="metadata_8cpp_source.html">metadata.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="dnaimportwrapper_8hpp_source.html#l00136">dna_import_progress_thread::operator()()</a>, <a class="el" href="dnaimportwrapper_8hpp_source.html#l00090">dna_import_thread::operator()()</a>, <a class="el" href="dnasegmentwrapper_8hpp_source.html#l00163">dna_segment_progress_thread::operator()()</a>, and <a class="el" href="dnasegmentwrapper_8hpp_source.html#l00081">dna_segment_thread::operator()()</a>.</p>

</div>
</div>
<a id="a4e6f2be58f584e0d6036e3215832bd25" name="a4e6f2be58f584e0d6036e3215832bd25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6f2be58f584e0d6036e3215832bd25">&#9670;&#160;</a></span>import_file_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex import_file_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="metadata_8cpp_source.html#l00026">26</a> of file <a class="el" href="metadata_8cpp_source.html">metadata.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="metadata_8cpp_source.html#l00342">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_365730814bc38107d215be2ef7757d54.html">dynadjust</a></li><li class="navelem"><a class="el" href="dir_4294cb0d1259512859ec443be7006090.html">metadata</a></li><li class="navelem"><a class="el" href="metadata_8cpp.html">metadata.cpp</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 11:27:21 for DynAdjust by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
